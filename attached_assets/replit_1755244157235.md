# Overview

This is a CrewAI-based Content Management System (CMS) built as a full-stack web application. The system enables users to create and manage AI agents, organize content creation projects, track task executions, and maintain a knowledge base for agent training. It's designed to facilitate intelligent content generation and management through collaborative AI agents using the CrewAI framework.

## Recent Updates (January 2025)
- **Multi-LLM Support**: Complete integration of multiple LLM providers (Groq, Ollama, OpenAI, Anthropic) with automatic model discovery
- **Intelligent Model Assignment**: AI-powered system to suggest optimal LLM configurations per agent role and task complexity
- **Ollama Local Integration**: Full support for local Ollama models with health monitoring and model management
- **LLM Usage Analytics**: Real-time tracking of token consumption, request patterns, and provider performance statistics
- **Enhanced CrewAI Studio**: Visual LLM configuration per agent with automatic recommendations based on role
- **CrewAI Studio**: Comprehensive visual interface for designing and executing CrewAI crews based on official documentation patterns
- **Advanced Agent Configuration**: Support for reasoning, multimodal capabilities, date injection, and delegation following CrewAI best practices
- **Sequential Task Execution**: Implementation of CrewAI sequential process with context passing between tasks
- **Intelligent Crew Suggestions**: AI-powered recommendations for agents and tasks based on knowledge base content
- **Real-time Execution Monitoring**: Live tracking of crew executions with detailed task-level insights

# User Preferences

Preferred communication style: Simple, everyday language.

# System Architecture

## Frontend Architecture
- **Framework**: React with TypeScript using Vite as the build tool
- **Routing**: Wouter for client-side routing
- **State Management**: TanStack Query (React Query) for server state management
- **UI Framework**: Shadcn/ui components built on Radix UI primitives
- **Styling**: Tailwind CSS with custom design tokens and CSS variables
- **Forms**: React Hook Form with Zod validation

## Backend Architecture
- **Runtime**: Node.js with Express server
- **Database ORM**: Drizzle ORM for type-safe database operations
- **API Design**: RESTful API with JSON responses
- **File Handling**: Multer for file uploads with size limits
- **Development**: Hot module replacement with Vite integration

## Data Storage Solutions
- **Multi-Database Architecture**: Factory pattern supporting PostgreSQL and MongoDB
- **Primary Database**: PostgreSQL configured through Drizzle ORM with Neon Database
- **Alternative Database**: MongoDB with Mongoose ODM for flexibility
- **Auto-Detection**: System automatically selects database based on available credentials
- **Schema Management**: Drizzle Kit for PostgreSQL, Mongoose schemas for MongoDB
- **Vector Storage**: Qdrant for semantic search and knowledge base indexing
- **File Storage**: Local file system for uploaded knowledge base items

## Core Data Models
- **Projects**: Content creation projects with status tracking and progress
- **Agents**: AI agents with roles, goals, backstories, and tool configurations
- **Executions**: Task execution records linking projects and agents
- **Knowledge Items**: Uploaded files and documents for agent training
- **CrewAI Components**:
  - **CrewAI Agents**: Advanced AI agents with reasoning, multimodal, and delegation capabilities
  - **CrewAI Tasks**: Structured tasks with context dependencies and output formatting
  - **CrewAI Crews**: Collaborative agent groups with sequential/hierarchical execution patterns
  - **Crew Executions**: Detailed execution tracking with task-level monitoring and token usage
- **Users**: User management system (legacy structure present)

## Authentication and Authorization
- Session-based authentication using cookies
- Express session management with PostgreSQL session store
- Request/response middleware for logging and error handling

## API Structure
- Dashboard endpoints for system statistics
- CRUD operations for projects, agents, executions, and knowledge items
- File upload endpoints with validation and storage
- AI generation endpoints using Groq for content creation
- Vector search endpoints using Qdrant for semantic queries
- **CrewAI Execution API**:
  - `/api/crews/execute` - Execute CrewAI crews with sequential processing
  - `/api/crews/executions/:id` - Get specific execution details
  - `/api/crews/executions` - List all crew executions with live updates
  - `/api/crews/suggest` - AI-powered crew suggestions from knowledge base
- **Multi-LLM Management API**:
  - `/api/llm/providers` - Get available LLM providers and health status
  - `/api/llm/models` - List all available models across providers
  - `/api/llm/suggest` - Get optimal LLM suggestions for agent roles
  - `/api/llm/stats` - Usage statistics and performance metrics
  - `/api/llm/ollama/models` - Ollama-specific model management
  - `/api/llm/ollama/health` - Ollama service health monitoring
- System configuration endpoints for service status and database info
- RESTful resource management with proper HTTP status codes

# External Dependencies

## Core Frameworks
- **CrewAI**: AI agent orchestration framework (referenced in documentation)
- **React**: Frontend user interface library
- **Express**: Node.js web application framework
- **Drizzle ORM**: TypeScript ORM for PostgreSQL operations
- **Mongoose**: MongoDB ODM for NoSQL database operations

## AI and Vector Services
- **Groq**: High-speed LLM inference for content generation and agent responses
- **Ollama**: Local LLM service for private model hosting with automatic model discovery
- **Qdrant**: Vector database for semantic search and knowledge base indexing
- **LLM Manager**: Centralized service for managing multiple LLM providers with intelligent routing
- **Multi-LLM System**: Automatic provider selection based on agent roles, task complexity, and availability

## Database and Storage
- **Neon Database**: Serverless PostgreSQL provider
- **MongoDB**: NoSQL document database for flexible data storage  
- **connect-pg-simple**: PostgreSQL session store for Express
- **Qdrant Client**: JavaScript client for Qdrant vector database

## UI and Styling
- **Shadcn/ui**: Pre-built React component library
- **Radix UI**: Unstyled, accessible UI primitives
- **Tailwind CSS**: Utility-first CSS framework
- **Lucide React**: Icon library

## Development Tools
- **Vite**: Build tool and development server
- **TypeScript**: Static type checking
- **Replit**: Development environment integration
- **ESBuild**: JavaScript bundler for production builds

## Validation and Forms
- **Zod**: TypeScript-first schema validation
- **React Hook Form**: Form library with validation
- **@hookform/resolvers**: Validation resolver for Zod integration

## File Processing
- **Multer**: Middleware for handling multipart/form-data file uploads
- **Date-fns**: Date utility library

## State Management
- **TanStack Query**: Server state management and caching
- **Wouter**: Minimalist client-side routing